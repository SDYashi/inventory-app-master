<div class="container-fluid mt-5">
  <div class="card">
    <div class="card-header header_title" style="background-color: rgb(1, 21, 41); color: whitesmoke;">
       <h4 class="mb-0">Edit Inventory</h4>
    </div>
    <div class="card-body">            
      <form [formGroup]="searchForm" (ngSubmit)="searchInventory()">
        <div class="row">
          <div class="col-md-4 offset-md-3">
            <div class="form-group mb-2">
            <input type="text" id="serialNumber" class="form-control custom-input-width"
                formControlName="serialNumber" placeholder="Enter Serial Number" required
                (keydown.enter)="searchInventory()" #barcodeInput>             
            </div>  
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <button class="btn btn-primary" type="submit" [disabled]="searchForm.invalid">
                <i class="fas fa-search"> </i> Search Inventory
                </button>
            </div>
          </div>
        </div>          
      </form>
    </div>    
  </div>
  </div>
<br>

<div class="container-fluid" *ngIf="issueFormStatus">
  <div class="card">
    <div class="card-header" style="background-color: rgb(1, 21, 41); color: whitesmoke;">
      <h4 class="mb-0">Edit Inventory Details </h4>
    </div>
    <form [formGroup]="editInventoryForm" (ngSubmit)="onSubmit()">
      <div class="card-body">

        <div class="row g-3">
          <!-- Category -->
          <div class="col-md-6">
            <label for="category" class="form-label">Category</label>
            <input type="text" id="category" class="form-control disable" formControlName="category" readonly>
            <!-- <select id="category" class="form-select" formControlName="category" (change)="onCategoryChange($event)" required>
                <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
              </select>
              <div class="invalid-feedback" *ngIf="editInventoryForm.get('category')?.hasError('required')">Category is required</div> -->
          </div>

          <!-- Subcategory -->
          <div class="col-md-6">
            <label for="subcategory" class="form-label">Subcategory</label>
            <input type="text" id="sub_category" class="form-control disable" formControlName="sub_category" readonly>
            <!-- <select id="sub_category" class="form-select" formControlName="sub_category">
                <option *ngFor="let sub_category of subcategories" [value]="sub_category">{{ sub_category }}</option>
              </select>
              <div class="invalid-feedback" *ngIf="editInventoryForm.get('category')?.hasError('required')">Category is required</div> -->
          </div>

          <!-- Make -->
          <div class="col-md-6">
            <label for="make" class="form-label">Make</label>
            <input type="text" id="make" class="form-control disable" formControlName="make" readonly>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('make')?.hasError('required')">Make is required
            </div>
          </div>

          <!-- Model -->
          <div class="col-md-6">
            <label for="model" class="form-label">Model</label>
            <input type="text" id="model" class="form-control disable" formControlName="model" readonly>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('model')?.hasError('required')">Model is required
            </div>
          </div>

          <!-- PO Number -->
          <div class="col-md-6">
            <label for="order_id" class="form-label">PO Number</label>
            <input type="text" id="order_id" class="form-control disable" formControlName="order_id" required>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('order_id')?.hasError('required')">PO Number is
              required</div>
          </div>

          <!-- Purchase Price -->
          <div class="col-md-6">
            <label for="price" class="form-label">Purchase Price</label>
            <input type="number" id="price" class="form-control disable" formControlName="price" min="0">
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('price')?.hasError('min')">Price cannot be
              negative</div>
          </div>

          <!-- Receipt Date -->
          <div class="col-md-6">
            <label for="receiptDate" class="form-label">Receipt Date</label>
            <input type="date" id="receipt_date" class="form-control disable" formControlName="receipt_date" required>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('receipt_date')?.hasError('required')">Receipt
              Date is required</div>
          </div>


          <!-- Warranty End Date -->
          <div class="col-md-6">
            <label for="warrantyEndDate" class="form-label">Warranty End Date</label>
            <input type="date" id="warranty_expiration" class="form-control disable"
              formControlName="warranty_expiration" required>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('warranty_expiration')?.hasError('required')">
              Warranty End Date is required</div>
          </div>

          <!-- Serial Numbers -->
          <div class="col-6">
            <label for="serialNumbers" class="form-label">Serial Numbers</label>
            <input id="serial_number" class="form-control disable" formControlName="serial_number" rows="3" readonly>
          </div>

          <!-- Status -->
          <div class="col-md-6">
            <label for="status" class="form-label">Status</label>
            <input id="status" class="form-control disable" formControlName="status" rows="3" required readonly>
            <!-- <select id="status" class="form-select" formControlName="status" required readonly>
                <option *ngFor="let status of statusLov" [value]="status">{{status}}</option>
              </select> -->
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('status')?.hasError('required')">Status is
              required</div>
          </div>



          <!-- Condition -->
          <div class="col-md-6">
            <label for="item_condition" class="form-label">Condition</label>
            <select id="condition" class="form-select" formControlName="condition" required>
              <option *ngFor="let condition of itemCondition" [value]="condition">{{ condition }}</option>
            </select>
            <div class="invalid-feedback" *ngIf="editInventoryForm.get('item_condition')?.hasError('required')">
              Condition is required</div>
          </div>

          <!-- Notes -->
          <div class="col-6">
            <label for="notes" class="form-label">Notes</label>
            <input id="notes" class="form-control" formControlName="notes" rows="3">
          </div>
        </div>
      </div>

      <div class="card-footer">
        <div class="row">
          <div class="col-12 justify-content-end">
            <button type="submit" class="btn btn-primary btn-lg"
              style="background-color: rgb(7, 14, 111); margin-right: 15px;"
              [disabled]="editInventoryForm.invalid">Submit</button>
            <button type="reset" class="btn btn-danger btn-lg" (click)="resetForm()">Reset</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>