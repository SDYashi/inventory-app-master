

<div class="container mt-5">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form [formGroup]="searchForm" (ngSubmit)="getAssignmentHistory()">
        <div class="input-group mb-3">
          <input type="text" id="serialNumber" class="form-control custom-input-width " formControlName="serialNumber" placeholder="Enter Serial Number" required (keydown.enter)="getAssignmentHistory()" #barcodeInput >
         <div class="input-group-append">
            <button class="btn btn-primary" type="submit" [disabled]="searchForm.invalid">
              <i class="fas fa-search"></i>  Search Inventory
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<hr>
<div class="custom-table-responsive" *ngIf="assignment_historyflag">
    <table class="custom-table">
      <thead>
        <tr style="background-color: rgb(1, 21, 41);">
          <th>Issue Date</th>
          <th>Issue Code</th>
          <th>Issue Details</th>
          <th>Issue Condition</th>

          <th>Return Date</th>
          <th>Returned Condition</th>
          <th>Issue Letter</th>
          <th>Return Letter</th>
         </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of assignmentHistory">
          <td>{{ record.assigned_date | date:'dd-MM-yyyy' }}</td>
          <td>{{ record.assigned_to }}</td>
          <td>{{ record.assigned_to_details }}</td>
          <td>{{ record.assigned_condition }}</td>
          <td>{{ record.return_date | date:'dd-MM-yyyy' }}</td>
          <td>{{ record.returned_condition }}</td>
          <td>  <button *ngIf="record.letter_for_issue" class="btn btn-primary" (click)="viewLetter(record.letter_for_issue)">View</button></td>
          <td>  <button *ngIf="record.letter_for_return" class="btn btn-primary" (click)="viewLetter(record.letter_for_return)">View</button></td>
        
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="errorMessage" [ngClass]="{'alert-success': isSuccess, 'alert-error': !isSuccess}">
    {{ errorMessage }}
  </div>
  
